{"/Users/trainer/Desktop/NodeJS Demo/server/utils/calculator.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/utils/calculator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":21}},"2":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"3":{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},"4":{"start":{"line":8,"column":4},"end":{"line":8,"column":17}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":18}}},"fnMap":{"0":{"name":"add","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":12}},"loc":{"start":{"line":4,"column":19},"end":{"line":9,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"1":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":32}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":18}},{"start":{"line":5,"column":22},"end":{"line":5,"column":32}}],"line":5}},"s":{"0":1,"1":1,"2":3,"3":2,"4":1,"5":1},"f":{"0":3},"b":{"0":[2,1],"1":[3,2]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/utils/calculator.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/utils/calculator.ts"],"names":[],"mappings":";;;AAEA,SAAgB,GAAG,CAAC,CAAW,EAAE,CAAW;IAC1C,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE;QAC5B,OAAO,IAAI,CAAC;KACb;IAED,OAAO,CAAC,GAAG,CAAC,CAAC;AACf,CAAC;AAND,kBAMC","sourcesContent":["type addparam = number | null;\n\nexport function add(a: addparam, b: addparam): addparam {\n  if (a === null || b === null) {\n    return null;\n  }\n\n  return a + b;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b974a3c26131677828e543621260d384088a3eb3"},"/Users/trainer/Desktop/NodeJS Demo/server/controller/people.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/controller/people.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":141}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":44}},"7":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"8":{"start":{"line":11,"column":28},"end":{"line":11,"column":56}},"9":{"start":{"line":12,"column":25},"end":{"line":12,"column":36}},"10":{"start":{"line":13,"column":15},"end":{"line":13,"column":32}},"11":{"start":{"line":15,"column":4},"end":{"line":20,"column":21}},"12":{"start":{"line":16,"column":23},"end":{"line":16,"column":56}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":28}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":84}},"15":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}},"16":{"start":{"line":24,"column":23},"end":{"line":24,"column":26}},"17":{"start":{"line":25,"column":19},"end":{"line":25,"column":25}},"18":{"start":{"line":26,"column":4},"end":{"line":30,"column":21}},"19":{"start":{"line":27,"column":23},"end":{"line":27,"column":62}},"20":{"start":{"line":28,"column":8},"end":{"line":28,"column":84}},"21":{"start":{"line":32,"column":0},"end":{"line":32,"column":30}},"22":{"start":{"line":34,"column":19},"end":{"line":34,"column":65}},"23":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"24":{"start":{"line":36,"column":8},"end":{"line":36,"column":80}},"25":{"start":{"line":38,"column":4},"end":{"line":46,"column":5}},"26":{"start":{"line":39,"column":25},"end":{"line":39,"column":28}},"27":{"start":{"line":40,"column":26},"end":{"line":40,"column":56}},"28":{"start":{"line":41,"column":8},"end":{"line":41,"column":31}},"29":{"start":{"line":42,"column":8},"end":{"line":42,"column":75}},"30":{"start":{"line":45,"column":8},"end":{"line":45,"column":80}},"31":{"start":{"line":48,"column":0},"end":{"line":48,"column":30}},"32":{"start":{"line":50,"column":4},"end":{"line":58,"column":5}},"33":{"start":{"line":51,"column":27},"end":{"line":51,"column":30}},"34":{"start":{"line":52,"column":23},"end":{"line":52,"column":29}},"35":{"start":{"line":53,"column":8},"end":{"line":53,"column":57}},"36":{"start":{"line":54,"column":8},"end":{"line":54,"column":66}},"37":{"start":{"line":57,"column":8},"end":{"line":57,"column":58}},"38":{"start":{"line":60,"column":0},"end":{"line":60,"column":36}},"39":{"start":{"line":62,"column":4},"end":{"line":70,"column":5}},"40":{"start":{"line":63,"column":33},"end":{"line":63,"column":36}},"41":{"start":{"line":64,"column":23},"end":{"line":64,"column":29}},"42":{"start":{"line":65,"column":8},"end":{"line":65,"column":78}},"43":{"start":{"line":66,"column":8},"end":{"line":66,"column":66}},"44":{"start":{"line":69,"column":8},"end":{"line":69,"column":58}},"45":{"start":{"line":72,"column":0},"end":{"line":72,"column":36}},"46":{"start":{"line":74,"column":4},"end":{"line":82,"column":5}},"47":{"start":{"line":75,"column":33},"end":{"line":75,"column":36}},"48":{"start":{"line":76,"column":27},"end":{"line":76,"column":33}},"49":{"start":{"line":77,"column":23},"end":{"line":77,"column":92}},"50":{"start":{"line":78,"column":8},"end":{"line":78,"column":96}},"51":{"start":{"line":81,"column":8},"end":{"line":81,"column":58}},"52":{"start":{"line":84,"column":0},"end":{"line":84,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"getPeople","decl":{"start":{"line":14,"column":15},"end":{"line":14,"column":24}},"loc":{"start":{"line":14,"column":35},"end":{"line":21,"column":1}},"line":14},"2":{"name":"getPerson","decl":{"start":{"line":23,"column":15},"end":{"line":23,"column":24}},"loc":{"start":{"line":23,"column":35},"end":{"line":31,"column":1}},"line":23},"3":{"name":"addPerson","decl":{"start":{"line":33,"column":15},"end":{"line":33,"column":24}},"loc":{"start":{"line":33,"column":35},"end":{"line":47,"column":1}},"line":33},"4":{"name":"deletePerson","decl":{"start":{"line":49,"column":15},"end":{"line":49,"column":27}},"loc":{"start":{"line":49,"column":38},"end":{"line":59,"column":1}},"line":49},"5":{"name":"updatePerson","decl":{"start":{"line":61,"column":15},"end":{"line":61,"column":27}},"loc":{"start":{"line":61,"column":38},"end":{"line":71,"column":1}},"line":61},"6":{"name":"findCountByRating","decl":{"start":{"line":73,"column":15},"end":{"line":73,"column":32}},"loc":{"start":{"line":73,"column":43},"end":{"line":83,"column":1}},"line":73}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},{"start":{"line":35,"column":4},"end":{"line":37,"column":5}}],"line":35}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":2,"12":2,"13":2,"14":2,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1},"f":{"0":1,"1":2,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/controller/people.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/controller/people.ts"],"names":[],"mappings":";;;;;;AACA,oDAA4B;AAC5B,gBAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,6CAA+C;AAC/C,sCAAqD;AACrD,yDAAqD;AAErD,MAAM,EAAE,YAAY,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC;AAErC,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAE1B,KAAK,UAAU,SAAS,CAAC,GAAG,EAAE,GAAG;IACtC,IAAI;QACF,MAAM,MAAM,GAAG,MAAM,oBAAW,CAAC,IAAI,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,iBAAW,CAAC,GAAG,EAAE,MAAM,EAAE,gCAAgC,CAAC,CAAC,IAAI,EAAE,CAAC;KACvE;IAAC,OAAO,KAAK,EAAE,GAAE;AACpB,CAAC;AAND,8BAMC;AAEM,KAAK,UAAU,SAAS,CAAC,GAAG,EAAE,GAAG;IACtC,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC;IACvB,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC;IAEtB,IAAI;QACF,MAAM,MAAM,GAAG,MAAM,oBAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC9C,IAAI,iBAAW,CAAC,GAAG,EAAE,MAAM,EAAE,gCAAgC,CAAC,CAAC,IAAI,EAAE,CAAC;KACvE;IAAC,OAAO,KAAK,EAAE,GAAE;AACpB,CAAC;AARD,8BAQC;AAEM,KAAK,UAAU,SAAS,CAAC,GAAG,EAAE,GAAG;IACtC,MAAM,MAAM,GAAG,IAAA,oCAAgB,EAAC,GAAG,CAAC,CAAC;IAErC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE;QACrB,IAAI,cAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,EAAE,EAAE,uBAAuB,CAAC,CAAC,IAAI,EAAE,CAAC;KACnE;IAED,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;QACrB,MAAM,SAAS,GAAG,IAAI,oBAAW,CAAC,IAAI,CAAC,CAAC;QACxC,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,iBAAW,CAAC,GAAG,EAAE,IAAI,EAAE,yBAAyB,CAAC,CAAC,IAAI,EAAE,CAAC;KAC9D;IAAC,OAAO,KAAU,EAAE;QACnB,IAAI,cAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,OAAO,EAAE,wBAAwB,CAAC,CAAC,IAAI,EAAE,CAAC;KACnE;AACH,CAAC;AAfD,8BAeC;AAEM,KAAK,UAAU,YAAY,CAAC,GAAG,EAAE,GAAG;IACzC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC;QACvB,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC;QAEtB,MAAM,oBAAW,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;QACxC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC,CAAC;KAC3D;IAAC,OAAO,KAAK,EAAE;QACd,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC,CAAC;KACnD;AACH,CAAC;AAVD,oCAUC;AAEM,KAAK,UAAU,YAAY,CAAC,GAAG,EAAE,GAAG;IACzC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;QAC7B,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC;QAEtB,MAAM,oBAAW,CAAC,iBAAiB,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;QAC7D,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC,CAAC;KAC3D;IAAC,OAAO,KAAK,EAAE;QACd,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC,CAAC;KACnD;AACH,CAAC;AAVD,oCAUC;AAEM,KAAK,UAAU,iBAAiB,CAAC,GAAG,EAAE,GAAG;IAC9C,IAAI;QAGF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;QAC7B,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;QAE1B,MAAM,MAAM,GAAG,MAAM,oBAAW,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAC5E,IAAI,iBAAW,CACb,GAAG,EACH,EAAE,KAAK,EAAE,MAAM,EAAE,EACjB,iCAAiC,CAClC,CAAC,IAAI,EAAE,CAAC;KACV;IAAC,OAAO,KAAK,EAAE;QACd,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC,CAAC;KACnD;AACH,CAAC;AAhBD,8CAgBC","sourcesContent":["import axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nimport { PeopleModel } from \"../schema/people\";\nimport { APIError, APIResponse } from \"../utils/api\";\nimport { validationResult } from \"express-validator\";\n\nconst { API_BASE_URL } = process.env;\n\nconst assert = require(\"assert\");\n\nexport async function getPeople(req, res) {\n  try {\n    const people = await PeopleModel.find();\n    console.log(people);\n    new APIResponse(res, people, \"This is the data for all users\").json();\n  } catch (error) {}\n}\n\nexport async function getPerson(req, res) {\n  const { params } = req;\n  const { id } = params;\n\n  try {\n    const people = await PeopleModel.findById(id);\n    new APIResponse(res, people, \"This is the data for all users\").json();\n  } catch (error) {}\n}\n\nexport async function addPerson(req, res) {\n  const errors = validationResult(req);\n\n  if (!errors.isEmpty()) {\n    new APIError(res, errors.array(), \"Error saving new user\").json();\n  }\n\n  try {\n    const { body } = req;\n    const newPerson = new PeopleModel(body);\n    await newPerson.save();\n    new APIResponse(res, null, \"User added successfully\").json();\n  } catch (error: any) {\n    new APIError(res, error.message, \"Error adding user data\").json();\n  }\n}\n\nexport async function deletePerson(req, res) {\n  try {\n    const { params } = req;\n    const { id } = params;\n\n    await PeopleModel.findByIdAndDelete(id);\n    res.json({ message: \"person data deleted successfully\" });\n  } catch (error) {\n    res.json({ message: \"unable to delete record.\" });\n  }\n}\n\nexport async function updatePerson(req, res) {\n  try {\n    const { params, body } = req;\n    const { id } = params;\n\n    await PeopleModel.findByIdAndUpdate(id, body, { new: true });\n    res.json({ message: \"person data updated successfully\" });\n  } catch (error) {\n    res.json({ message: \"unable to update record.\" });\n  }\n}\n\nexport async function findCountByRating(req, res) {\n  try {\n\n\n    const { params, body } = req;\n    const { rating } = params;\n\n    const result = await PeopleModel.find({ rating: { $lte: rating } }).count();\n    new APIResponse(\n      res,\n      { count: result },\n      \"Count of people based on rating\"\n    ).json();\n  } catch (error) {\n    res.json({ message: \"unable to update record.\" });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"240bb4f62b01aef3750ee40a65a1fe0298d7467c"},"/Users/trainer/Desktop/NodeJS Demo/server/schema/people.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/schema/people.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":21},"end":{"line":30,"column":2}},"4":{"start":{"line":31,"column":0},"end":{"line":31,"column":36}},"5":{"start":{"line":32,"column":20},"end":{"line":32,"column":75}},"6":{"start":{"line":33,"column":0},"end":{"line":33,"column":34}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/schema/people.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/schema/people.ts"],"names":[],"mappings":";;;AAAA,uCAAyC;AAEzC,MAAM,YAAY,GAAG,IAAI,iBAAM,CAAC;IAC9B,EAAE,EAAE,MAAM;IACV,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;IACtB,QAAQ,EAAE,MAAM;IAChB,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;IACvB,OAAO,EAAE;QACP,MAAM,EAAE,MAAM;QACd,KAAK,EAAE,MAAM;QACb,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,MAAM;QACf,GAAG,EAAE;YACH,GAAG,EAAE,MAAM;YACX,GAAG,EAAE,MAAM;SACZ;KACF;IACD,KAAK,EAAE,MAAM;IACb,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;KACb;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,MAAM;QACnB,EAAE,EAAE,MAAM;KACX;IACD,MAAM,EAAG,MAAM;CAChB,CAAC,CAAC;AAImB,oCAAY;AAFlC,MAAM,WAAW,GAAG,IAAA,gBAAK,EAAC,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;AAEnD,kCAAW","sourcesContent":["import { Schema, model } from \"mongoose\";\n\nconst PeopleSchema = new Schema({\n  id: Number,\n  name: { type: String },\n  username: String,\n  email: { type: String },\n  address: {\n    street: String,\n    suite: String,\n    city: String,\n    zipcode: String,\n    geo: {\n      lat: String,\n      lng: String,\n    },\n  },\n  phone: String,\n  website: {\n    type: String,\n  },\n  company: {\n    name: String,\n    catchPhrase: String,\n    bs: String,\n  },\n  rating : Number\n});\n\nconst PeopleModel = model(\"people\", PeopleSchema, \"people\");\n\nexport { PeopleModel, PeopleSchema };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"878f34ea7e68d90a9e04c30388bf609207ea3040"},"/Users/trainer/Desktop/NodeJS Demo/server/utils/api.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/utils/api.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":25}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":23}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":37}},"6":{"start":{"line":12,"column":8},"end":{"line":14,"column":62}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}},"8":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"9":{"start":{"line":21,"column":8},"end":{"line":21,"column":31}},"10":{"start":{"line":22,"column":8},"end":{"line":22,"column":23}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":37}},"12":{"start":{"line":26,"column":8},"end":{"line":28,"column":62}},"13":{"start":{"line":31,"column":0},"end":{"line":31,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":54},"end":{"line":10,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":11},"end":{"line":15,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":54},"end":{"line":24,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":11},"end":{"line":29,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":36},"end":{"line":5,"column":52}},"type":"default-arg","locations":[{"start":{"line":5,"column":49},"end":{"line":5,"column":52}}],"line":5},"1":{"loc":{"start":{"line":19,"column":36},"end":{"line":19,"column":52}},"type":"default-arg","locations":[{"start":{"line":19,"column":49},"end":{"line":19,"column":52}}],"line":19}},"s":{"0":1,"1":1,"2":2,"3":2,"4":2,"5":2,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":2,"1":0,"2":0,"3":0},"b":{"0":[2],"1":[0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/utils/api.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/utils/api.ts"],"names":[],"mappings":";;;AAAA,MAAa,WAAW;IAKtB,YAAY,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,GAAG,GAAG;QAC9C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;IAED,IAAI;QACF,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;aACvB,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IACtD,CAAC;CACF;AAjBD,kCAiBC;AAED,MAAa,QAAQ;IAMjB,YAAY,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,GAAG,GAAG;QAC9C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;IAED,IAAI;QACF,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;aACvB,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IACtD,CAAC;CACJ;AAlBD,4BAkBC","sourcesContent":["export class APIResponse {\n  data;\n  message;\n  statusCode;\n  res;\n  constructor(res, data, message, statusCode = 200) {\n    this.data = data;\n    this.message = message;\n    this.res = res;\n    this.statusCode = statusCode;\n  }\n\n  json() {\n    this.res\n      .status(this.statusCode)\n      .json({ data: this.data, message: this.message });\n  }\n}\n\nexport class APIError {\n    data;\n    message;\n    statusCode;\n    res;\n    \n    constructor(res, data, message, statusCode = 500) {\n      this.data = data;\n      this.message = message;\n      this.res = res;\n      this.statusCode = statusCode;\n    }\n  \n    json() {\n      this.res\n        .status(this.statusCode)\n        .json({ data: this.data, message: this.message });\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"18f8e6b580993314ace52a6b46d0ead65f750b7d"},"/Users/trainer/Desktop/NodeJS Demo/server/application.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/application.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":51}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":47}},"7":{"start":{"line":10,"column":15},"end":{"line":10,"column":47}},"8":{"start":{"line":11,"column":19},"end":{"line":11,"column":53}},"9":{"start":{"line":12,"column":26},"end":{"line":12,"column":74}},"10":{"start":{"line":13,"column":17},"end":{"line":13,"column":42}},"11":{"start":{"line":14,"column":15},"end":{"line":14,"column":47}},"12":{"start":{"line":15,"column":20},"end":{"line":15,"column":50}},"13":{"start":{"line":16,"column":17},"end":{"line":16,"column":60}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":16}},"15":{"start":{"line":18,"column":17},"end":{"line":18,"column":50}},"16":{"start":{"line":19,"column":16},"end":{"line":19,"column":69}},"17":{"start":{"line":20,"column":18},"end":{"line":20,"column":62}},"18":{"start":{"line":21,"column":15},"end":{"line":21,"column":56}},"19":{"start":{"line":22,"column":18},"end":{"line":22,"column":49}},"20":{"start":{"line":23,"column":20},"end":{"line":23,"column":40}},"21":{"start":{"line":24,"column":18},"end":{"line":24,"column":47}},"22":{"start":{"line":25,"column":0},"end":{"line":25,"column":26}},"23":{"start":{"line":27,"column":4},"end":{"line":27,"column":43}},"24":{"start":{"line":28,"column":17},"end":{"line":28,"column":41}},"25":{"start":{"line":29,"column":23},"end":{"line":29,"column":63}},"26":{"start":{"line":30,"column":15},"end":{"line":34,"column":6}},"27":{"start":{"line":35,"column":4},"end":{"line":35,"column":33}},"28":{"start":{"line":36,"column":19},"end":{"line":40,"column":6}},"29":{"start":{"line":41,"column":4},"end":{"line":41,"column":42}},"30":{"start":{"line":42,"column":4},"end":{"line":42,"column":81}},"31":{"start":{"line":43,"column":4},"end":{"line":43,"column":43}},"32":{"start":{"line":44,"column":4},"end":{"line":44,"column":46}},"33":{"start":{"line":45,"column":4},"end":{"line":45,"column":25}},"34":{"start":{"line":46,"column":4},"end":{"line":46,"column":39}},"35":{"start":{"line":47,"column":4},"end":{"line":49,"column":7}},"36":{"start":{"line":48,"column":8},"end":{"line":48,"column":48}},"37":{"start":{"line":50,"column":4},"end":{"line":50,"column":49}},"38":{"start":{"line":51,"column":4},"end":{"line":51,"column":51}},"39":{"start":{"line":52,"column":4},"end":{"line":52,"column":45}},"40":{"start":{"line":53,"column":4},"end":{"line":56,"column":7}},"41":{"start":{"line":54,"column":21},"end":{"line":54,"column":58}},"42":{"start":{"line":55,"column":8},"end":{"line":55,"column":23}},"43":{"start":{"line":57,"column":4},"end":{"line":61,"column":7}},"44":{"start":{"line":58,"column":33},"end":{"line":58,"column":41}},"45":{"start":{"line":59,"column":21},"end":{"line":59,"column":68}},"46":{"start":{"line":60,"column":8},"end":{"line":60,"column":23}},"47":{"start":{"line":62,"column":4},"end":{"line":62,"column":79}},"48":{"start":{"line":63,"column":4},"end":{"line":63,"column":28}},"49":{"start":{"line":65,"column":0},"end":{"line":65,"column":7}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"main","decl":{"start":{"line":26,"column":15},"end":{"line":26,"column":19}},"loc":{"start":{"line":26,"column":22},"end":{"line":64,"column":1}},"line":26},"2":{"name":"(anonymous_2)","decl":{"start":{"line":47,"column":25},"end":{"line":47,"column":26}},"loc":{"start":{"line":47,"column":39},"end":{"line":49,"column":5}},"line":47},"3":{"name":"(anonymous_3)","decl":{"start":{"line":53,"column":29},"end":{"line":53,"column":30}},"loc":{"start":{"line":53,"column":49},"end":{"line":56,"column":5}},"line":53},"4":{"name":"(anonymous_4)","decl":{"start":{"line":57,"column":29},"end":{"line":57,"column":30}},"loc":{"start":{"line":57,"column":49},"end":{"line":61,"column":5}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":28,"column":17},"end":{"line":28,"column":41}},"type":"binary-expr","locations":[{"start":{"line":28,"column":17},"end":{"line":28,"column":33}},{"start":{"line":28,"column":37},"end":{"line":28,"column":41}}],"line":28}},"s":{"0":1,"1":9,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":0,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":1,"48":1,"49":1},"f":{"0":9,"1":1,"2":0,"3":0,"4":0},"b":{"0":[1,1,1],"1":[4,5],"2":[9,9],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/application.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/application.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA8B;AAC9B,oDAA4B;AAC5B,gDAAwB;AACxB,gDAAwB;AACxB,sDAA4D;AAC5D,2EAA0F;AAC1F,2CAA8C;AAC9C,gDAAwB;AAExB,mDAA+D;AAC/D,6DAA0C;AAC1C,gBAAc;AACd,mDAAgD;AAChD,sEAAkD;AAElD,+DAA4C;AAC5C,yDAAsC;AACtC,kDAA+C;AAC/C,yCAAqD;AACrD,gDAA+C;AAE/C,gBAAM,CAAC,MAAM,EAAE,CAAC;AAIhB,KAAK,UAAU,IAAI;IACjB,WAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;IAChB,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;IAEtC,MAAM,UAAU,GAAG,cAAI,CAAC,YAAY,CAAC,WAAG,CAAC,CAAC;IAE1C,MAAM,EAAE,GAAG,IAAI,kBAAc,CAAC,UAAU,EAAE;QACxC,IAAI,EAAE;YACJ,MAAM,EAAE,GAAG;SACZ;KACF,CAAC,CAAC;IAEH,IAAA,mBAAS,EAAC,EAAE,CAAC,CAAC;IAEd,MAAM,MAAM,GAAG,IAAI,qBAAY,CAAC;QAC9B,QAAQ,EAAE,eAAM;QAChB,SAAS,EAAE,eAAS;QACpB,OAAO,EAAE,CAAC,IAAA,mDAAiC,EAAC,EAAE,UAAU,EAAE,CAAC,CAAC;KAC7D,CAAC,CAAC;IAEH,WAAG,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IAC9B,WAAG,CAAC,GAAG,CAAC,OAAO,EAAE,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC,CAAC,CAAC;IAE3D,WAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAC;IAChB,WAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;IAExB,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC;IAErB,WAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,CAAC;IAEjB,WAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QACxB,GAAG,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,WAAG,CAAC,GAAG,CAAC,SAAS,EAAE,gBAAW,CAAC,CAAC;IAChC,WAAG,CAAC,GAAG,CAAC,UAAU,EAAE,iBAAY,CAAC,CAAC;IAClC,WAAG,CAAC,GAAG,CAAC,OAAO,EAAE,cAAS,CAAC,CAAC;IAC5B,WAAG,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;QAClC,MAAM,IAAI,GAAG,MAAM,IAAA,wBAAY,GAAE,CAAC;QAClC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC;IAEH,WAAG,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;QAClC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QAClC,MAAM,IAAI,GAAG,MAAM,IAAA,sBAAU,EAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC5C,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC;IAEH,WAAG,CAAC,GAAG,CAAC,UAAU,EAAE,IAAA,4BAAiB,EAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC;IAEnD,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,IAAI,EAAE,CAAC","sourcesContent":["import express from \"express\";\nimport dotenv from \"dotenv\";\nimport path from \"path\";\nimport http from \"http\";\nimport { expressMiddleware } from \"@apollo/server/express4\";\nimport { ApolloServerPluginDrainHttpServer } from \"@apollo/server/plugin/drainHttpServer\";\nimport { ApolloServer } from \"@apollo/server\";\nimport cors from \"cors\";\n\nimport { addContact, listContacts } from \"../shared/phonebook\";\nimport PeopleRoute from \"./router/people\";\nimport \"./db\";\nimport { Schema } from \"./graphql/types/schema\";\nimport Resolvers from \"./graphql/resolvers/index\";\nimport { ProductModel } from \"./schema/products\";\nimport ProductRoute from \"./router/product\";\nimport UserRoute from \"./router/user\";\nimport { logging } from \"./middleware/logging\";\nimport { Server as SocketIOServer } from \"socket.io\";\nimport { IOHandler } from \"./socketio/handler\";\n\ndotenv.config();\n\nexport let app;\n\nasync function main() {\n  app = express();\n  const port = process.env.PORT || 4600;\n\n  const httpServer = http.createServer(app);\n\n  const io = new SocketIOServer(httpServer, {\n    cors: {\n      origin: \"*\",\n    },\n  });\n\n  IOHandler(io);\n\n  const server = new ApolloServer({\n    typeDefs: Schema,\n    resolvers: Resolvers,\n    plugins: [ApolloServerPluginDrainHttpServer({ httpServer })],\n  });\n\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", path.join(process.cwd(), \"server/views\"));\n\n  app.use(cors());\n  app.use(express.json());\n\n  await server.start();\n\n  app.use(logging);\n\n  app.use(\"/\", (req, res) => {\n    res.send(\"this is the node js server.\");\n  });\n\n  app.use(\"/people\", PeopleRoute);\n  app.use(\"/product\", ProductRoute);\n  app.use(\"/user\", UserRoute);\n  app.get(\"/list\", async (req, res) => {\n    const data = await listContacts();\n    res.json(data);\n  });\n\n  app.post(\"/add\", async (req, res) => {\n    const { name, number } = req.body;\n    const data = await addContact(name, number);\n    res.json(data);\n  });\n\n  app.use(\"/graphql\", expressMiddleware(server, {}));\n\n  httpServer.listen(port);\n}\n\nmain();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f1731d7ee0780163fb334cf074a906e43012b22c"},"/Users/trainer/Desktop/NodeJS Demo/shared/phonebook.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/shared/phonebook.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":33}},"6":{"start":{"line":10,"column":19},"end":{"line":10,"column":21}},"7":{"start":{"line":11,"column":4},"end":{"line":17,"column":5}},"8":{"start":{"line":12,"column":25},"end":{"line":12,"column":76}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":40}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":52}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":41}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":75}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":38}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":32}},"15":{"start":{"line":24,"column":4},"end":{"line":31,"column":5}},"16":{"start":{"line":25,"column":25},"end":{"line":25,"column":76}},"17":{"start":{"line":26,"column":21},"end":{"line":26,"column":41}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":20}},"19":{"start":{"line":30,"column":8},"end":{"line":30,"column":20}},"20":{"start":{"line":33,"column":0},"end":{"line":33,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"addContact","decl":{"start":{"line":9,"column":15},"end":{"line":9,"column":25}},"loc":{"start":{"line":9,"column":45},"end":{"line":21,"column":1}},"line":9},"2":{"name":"listContacts","decl":{"start":{"line":23,"column":15},"end":{"line":23,"column":27}},"loc":{"start":{"line":23,"column":30},"end":{"line":32,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/shared/phonebook.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/shared/phonebook.ts"],"names":[],"mappings":";;;;;;AAAA,2DAA6B;AAC7B,MAAM,QAAQ,GAAG,gBAAgB,CAAC;AAE3B,KAAK,UAAU,UAAU,CAAC,IAAI,EAAE,WAAW;IAChD,IAAI,QAAQ,GAAU,EAAE,CAAC;IACzB,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QACrD,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;KACjC;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;KAC7C;IAED,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;IACrC,MAAM,kBAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;IACvD,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;AACpC,CAAC;AAZD,gCAYC;AAEM,KAAK,UAAU,YAAY;IAChC,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QACrD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACb;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AARD,oCAQC","sourcesContent":["import fs from \"fs/promises\";\nconst filepath = \"phonebook.json\";\n\nexport async function addContact(name, phoneNumber) {\n  let contacts: any[] = [];\n  try {\n    const filedata = await fs.readFile(filepath, \"utf8\");\n    contacts = JSON.parse(filedata);\n  } catch (error) {\n    console.log(\"phonbook file didn't exists.\");\n  }\n\n  contacts.push({ name, phoneNumber });\n  await fs.writeFile(filepath, JSON.stringify(contacts));\n  console.log(\"New contact added.\");\n}\n\nexport async function listContacts() {\n  try {\n    const filedata = await fs.readFile(filepath, \"utf8\");\n    const data = JSON.parse(filedata);\n    return data;\n  } catch (error) {\n    return null;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e158becba5201d99ce1a08dda7701c38534cbf4b"},"/Users/trainer/Desktop/NodeJS Demo/server/router/people.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/router/people.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":18},"end":{"line":26,"column":36}},"26":{"start":{"line":27,"column":25},"end":{"line":27,"column":70}},"27":{"start":{"line":28,"column":17},"end":{"line":28,"column":47}},"28":{"start":{"line":29,"column":23},"end":{"line":29,"column":66}},"29":{"start":{"line":30,"column":19},"end":{"line":30,"column":52}},"30":{"start":{"line":31,"column":20},"end":{"line":31,"column":43}},"31":{"start":{"line":36,"column":0},"end":{"line":36,"column":129}},"32":{"start":{"line":37,"column":0},"end":{"line":37,"column":75}},"33":{"start":{"line":38,"column":0},"end":{"line":38,"column":78}},"34":{"start":{"line":39,"column":0},"end":{"line":39,"column":105}},"35":{"start":{"line":40,"column":0},"end":{"line":40,"column":108}},"36":{"start":{"line":41,"column":0},"end":{"line":41,"column":96}},"37":{"start":{"line":42,"column":0},"end":{"line":42,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":2,"16":2,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":2},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[2,0],"12":[2,2],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/router/people.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/router/people.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAiC;AACjC,uEAAyD;AACzD,gDAAyD;AACzD,mEAAqD;AACrD,qDAAqD;AAErD,MAAM,WAAW,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE7B,mCAAmC;AAEnC,qBAAqB;AACrB,gBAAgB;AAChB,kBAAkB;AAElB,WAAW,CAAC,IAAI,CACd,GAAG,EACH,cAAc,CAAC,SAAS,EACxB,sBAAW,EACX,2BAAkB,EAClB,gBAAgB,CAAC,SAAS,CAC3B,CAAC;AACF,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,cAAc,CAAC,SAAS,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC;AAC3E,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,CAAC,SAAS,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC;AAC9E,WAAW,CAAC,GAAG,CACb,MAAM,EACN,cAAc,CAAC,SAAS,EACxB,sBAAW,EACX,gBAAgB,CAAC,YAAY,CAC9B,CAAC;AACF,WAAW,CAAC,MAAM,CAChB,MAAM,EACN,cAAc,CAAC,SAAS,EACxB,sBAAW,EACX,gBAAgB,CAAC,YAAY,CAC9B,CAAC;AACF,WAAW,CAAC,GAAG,CACb,gBAAgB,EAChB,cAAc,CAAC,SAAS,EACxB,gBAAgB,CAAC,iBAAiB,CACnC,CAAC;AAEF,kBAAe,WAAW,CAAC","sourcesContent":["import { Router } from \"express\";\nimport * as PeopleController from \"../controller/people\";\nimport { addPersonValidator } from \"../validator/people\";\nimport * as AuthMiddleware from \"../middleware/auth\";\nimport { IsAdminUser } from \"../middleware/is-admin\";\n\nconst PeopleRoute = Router();\n\n// CRUD = CREATE READ UPDATE DELETE\n\n// parent = \"/people\"\n// router = /:id\n// ==  /people/:id\n\nPeopleRoute.post(\n  \"/\",\n  AuthMiddleware.AuthLogin,\n  IsAdminUser,\n  addPersonValidator,\n  PeopleController.addPerson\n);\nPeopleRoute.get(\"/\", AuthMiddleware.AuthLogin, PeopleController.getPeople);\nPeopleRoute.get(\"/:id\", AuthMiddleware.AuthLogin, PeopleController.getPerson);\nPeopleRoute.put(\n  \"/:id\",\n  AuthMiddleware.AuthLogin,\n  IsAdminUser,\n  PeopleController.updatePerson\n);\nPeopleRoute.delete(\n  \"/:id\",\n  AuthMiddleware.AuthLogin,\n  IsAdminUser,\n  PeopleController.deletePerson\n);\nPeopleRoute.get(\n  \"/count/:rating\",\n  AuthMiddleware.AuthLogin,\n  PeopleController.findCountByRating\n);\n\nexport default PeopleRoute;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d55bdcecc0bbb71f4fafe85897c554c5b920f3f8"},"/Users/trainer/Desktop/NodeJS Demo/server/validator/people.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/validator/people.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":56}},"3":{"start":{"line":5,"column":0},"end":{"line":19,"column":2}},"4":{"start":{"line":13,"column":8},"end":{"line":13,"column":27}},"5":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":61}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":16},"end":{"line":12,"column":17}},"loc":{"start":{"line":12,"column":27},"end":{"line":18,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},{"start":{"line":14,"column":8},"end":{"line":16,"column":9}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/validator/people.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/validator/people.ts"],"names":[],"mappings":";;;AAAA,yDAAyC;AAE5B,QAAA,kBAAkB,GAAG;IAChC,IAAA,wBAAI,EAAC,MAAM,CAAC;SACT,IAAI,EAAE;SACN,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC;SAC7B,WAAW,CAAC,qBAAqB,CAAC;IACrC,IAAA,wBAAI,EAAC,SAAS,CAAC;SACZ,IAAI,EAAE;SACN,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrB,IAAI,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;YACjC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;SAClD;QACD,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;CACL,CAAC","sourcesContent":["import { body } from \"express-validator\";\n\nexport const addPersonValidator = [\n  body(\"name\")\n    .trim()\n    .isLength({ min: 3, max: 64 })\n    .withMessage(\"Name is not correct\"),\n  body(\"website\")\n    .trim()\n    .custom((value) => {\n        console.log(value);\n      if (value.includes(\"example.com\")) {\n        throw new Error(\"Website cannot be example.com\");\n      }\n      return true;\n    }),\n];\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bcb339273a091a3b34c5477a1db28b1d1566844f"},"/Users/trainer/Desktop/NodeJS Demo/server/middleware/auth.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/middleware/auth.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":63}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":40}},"7":{"start":{"line":10,"column":19},"end":{"line":10,"column":41}},"8":{"start":{"line":12,"column":30},"end":{"line":12,"column":41}},"9":{"start":{"line":13,"column":4},"end":{"line":20,"column":5}},"10":{"start":{"line":14,"column":24},"end":{"line":14,"column":86}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":80}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":15}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":75}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"AuthLogin","decl":{"start":{"line":11,"column":15},"end":{"line":11,"column":24}},"loc":{"start":{"line":11,"column":41},"end":{"line":21,"column":1}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":1,"1":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/middleware/auth.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/middleware/auth.ts"],"names":[],"mappings":";;;;;;AAAA,gEAA+B;AAC/B,sCAAwC;AACxC,yCAA2C;AAE3C,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;AAEnC,KAAK,UAAU,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI;IAC5C,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;IAEtC,IAAI;QACF,MAAM,OAAO,GAAG,MAAM,sBAAG,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QAC5D,GAAG,CAAC,IAAI,GAAG,MAAM,gBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAG,CAAC,EAAE,CAAC,CAAC;QAClE,IAAI,EAAE,CAAC;KACR;IAAC,OAAO,KAAK,EAAE;QACd,IAAI,cAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,8BAA8B,CAAC,CAAC,IAAI,EAAE,CAAC;KAC9D;AACH,CAAC;AAVD,8BAUC","sourcesContent":["import jwt from \"jsonwebtoken\";\nimport { APIError } from \"../utils/api\";\nimport { UserModel } from \"../schema/user\";\n\nconst SECRET_KEY = process.env.SECRET_KEY;\n\nexport async function AuthLogin(req, res, next) {\n  const { authorization } = req.headers;\n\n  try {\n    const payload = await jwt.verify(authorization, SECRET_KEY);\n    req.user = await UserModel.findById(payload.id, { password : 0 });\n    next();\n  } catch (error) {\n    new APIError(res, {}, \"user details are not correct\").json();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"95ad72398e813548fc40a645e2d61bfd54bd269e"},"/Users/trainer/Desktop/NodeJS Demo/server/schema/user.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/schema/user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":19},"end":{"line":10,"column":2}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":32}},"5":{"start":{"line":12,"column":18},"end":{"line":12,"column":68}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/schema/user.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/schema/user.ts"],"names":[],"mappings":";;;AAAA,uCAAyC;AAEzC,MAAM,UAAU,GAAG,IAAI,iBAAM,CAAC;IAC5B,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IACtC,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IACvC,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE;CAC3C,CAAC,CAAC;AAIiB,gCAAU;AAF9B,MAAM,SAAS,GAAG,IAAA,gBAAK,EAAC,MAAM,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;AAE5C,8BAAS","sourcesContent":["import { Schema, model } from \"mongoose\";\n\nconst UserSchema = new Schema({\n  name: { type: String, required: true },\n  password: { type: String, required: true },\n  email: { type: String, required: true },\n  isAdmin: { type: Boolean, default: false },\n});\n\nconst UserModel = model(\"user\", UserSchema, \"users\");\n\nexport { UserModel, UserSchema };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2508a5c8e11e5a356a22ba3bcc027338e1f454b9"},"/Users/trainer/Desktop/NodeJS Demo/server/middleware/is-admin.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/middleware/is-admin.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":37}},"3":{"start":{"line":6,"column":4},"end":{"line":12,"column":5}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":15}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":15}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":64}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":34}}},"fnMap":{"0":{"name":"IsAdminUser","decl":{"start":{"line":5,"column":15},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":43},"end":{"line":13,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":12,"column":5}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":12,"column":5}},{"start":{"line":6,"column":4},"end":{"line":12,"column":5}}],"line":6},"1":{"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":36}},"type":"binary-expr","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":36}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/middleware/is-admin.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/middleware/is-admin.ts"],"names":[],"mappings":";;;AAAA,sCAAwC;AAEjC,KAAK,UAAU,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI;IAC9C,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE;QAChC,IAAI,EAAE,CAAC;QACP,OAAO;KACR;SAAM;QACL,IAAI,cAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,mBAAmB,CAAC,CAAC,IAAI,EAAE,CAAC;KACnD;AACH,CAAC;AAPD,kCAOC","sourcesContent":["import { APIError } from \"../utils/api\";\n\nexport async function IsAdminUser(req, res, next) {\n  if (req.user && req.user.isAdmin) {\n    next();\n    return;\n  } else {\n    new APIError(res, {}, \"User is not admin\").json();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ba28379613e54ea32cf5408b5e7ba8210aa13cf"},"/Users/trainer/Desktop/NodeJS Demo/server/db.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/db.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":39}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":36}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/db.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/db.ts"],"names":[],"mappings":";;AAAA,uCAAmC;AAEnC,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;AACxC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACzB,MAAM,UAAU,GAAG,aAAa,MAAM,eAAe,CAAA;AAErD,OAAO,CAAC,GAAG,CAAC,mBAAmB,UAAU,EAAE,CAAC,CAAA;AAE5C,IAAA,kBAAO,EAAC,UAAU,CAAC,CAAC","sourcesContent":["import { connect } from \"mongoose\";\n\nconst server = process.env.MONGO_SERVER;\nconsole.log(process.env);\nconst serverPath = `mongodb://${server}/demodatabase`\n\nconsole.log(`MongoDB Server: ${serverPath}`)\n\nconnect(serverPath);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4fe7ba79beb4b73e9e8a956c7cf42aaad1f86216"},"/Users/trainer/Desktop/NodeJS Demo/server/graphql/types/schema.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/graphql/types/schema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":0},"end":{"line":18,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/graphql/types/schema.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/graphql/types/schema.ts"],"names":[],"mappings":";;;AAEa,QAAA,MAAM,GAAG;;;;;;;;;;;;;;CAcrB,CAAC","sourcesContent":["import {} from \"@apollo/server\";\n\nexport const Schema = `#graphql\n    type Person {\n        _id: String\n        id: Int\n        name: String\n        username:String\n        email: String\n        phone: String\n        website: String\n    }\n\n    type Query {\n        people(sort: String) : [Person]\n    }\n`;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d15fc64083d8da6783295c135df6087ff0bf98c1"},"/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/index.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/index.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/index.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AAErC,kBAAe;IACb,KAAK,EAAE;QACL,MAAM,EAAE,kBAAS;KAClB;CACF,CAAC","sourcesContent":["import { GetPeople } from \"./people\";\n\nexport default {\n  Query: {\n    people: GetPeople,\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a6160c2984b45c6ce2743a9b93e22378f30bd3c5"},"/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/people.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/people.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":47}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":22}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":90}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}}},"fnMap":{"0":{"name":"GetPeople","decl":{"start":{"line":6,"column":15},"end":{"line":6,"column":24}},"loc":{"start":{"line":6,"column":40},"end":{"line":9,"column":1}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":58},"end":{"line":8,"column":86}},"type":"cond-expr","locations":[{"start":{"line":8,"column":80},"end":{"line":8,"column":81}},{"start":{"line":8,"column":84},"end":{"line":8,"column":86}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/people.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/graphql/resolvers/people.ts"],"names":[],"mappings":";;;AAAA,gDAAkD;AAClD,oBAAkB;AAEX,KAAK,UAAU,SAAS,CAAC,OAAO,EAAE,IAAI;IAC3C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClB,OAAO,MAAM,oBAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AAC/E,CAAC;AAHD,8BAGC","sourcesContent":["import { PeopleModel } from \"../../schema/people\";\nimport \"../../db\";\n\nexport async function GetPeople(context, args) {\n  console.log(args);\n  return await PeopleModel.find().sort({ name: args.sort === \"ASC\" ? 1 : -1 });\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"17360116503cb6518a30d5ecf6bedc575ce8e603"},"/Users/trainer/Desktop/NodeJS Demo/server/router/product.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/router/product.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":18},"end":{"line":26,"column":36}},"26":{"start":{"line":27,"column":26},"end":{"line":27,"column":72}},"27":{"start":{"line":28,"column":21},"end":{"line":28,"column":44}},"28":{"start":{"line":29,"column":0},"end":{"line":29,"column":69}},"29":{"start":{"line":30,"column":0},"end":{"line":30,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/router/product.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/router/product.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAiC;AACjC,yEAA2D;AAE3D,MAAM,YAAY,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE9B,YAAY,CAAC,GAAG,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,aAAa,CAAC,CAAC;AAErE,kBAAe,YAAY,CAAC","sourcesContent":["import { Router } from \"express\";\nimport * as ProductController from \"../controller/product\";\n\nconst ProductRoute = Router();\n\nProductRoute.get(\"/average-prices\", ProductController.averagePrices);\n\nexport default ProductRoute;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0291c290b2c578bd3c8dcce22c1b71456ee9d19e"},"/Users/trainer/Desktop/NodeJS Demo/server/controller/product.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/controller/product.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":48}},"3":{"start":{"line":5,"column":14},"end":{"line":5,"column":37}},"4":{"start":{"line":7,"column":4},"end":{"line":20,"column":5}},"5":{"start":{"line":8,"column":23},"end":{"line":12,"column":10}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":81}},"7":{"start":{"line":19,"column":8},"end":{"line":19,"column":27}},"8":{"start":{"line":22,"column":0},"end":{"line":22,"column":38}}},"fnMap":{"0":{"name":"averagePrices","decl":{"start":{"line":6,"column":15},"end":{"line":6,"column":28}},"loc":{"start":{"line":6,"column":39},"end":{"line":21,"column":1}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/controller/product.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/controller/product.ts"],"names":[],"mappings":";;;AAAA,iDAAkD;AAElD,sCAA2C;AAEpC,KAAK,UAAU,aAAa,CAAC,GAAG,EAAE,GAAG;IAC1C,IAAI;QACF,MAAM,MAAM,GAAoB,MAAM,uBAAY,CAAC,SAAS,CAAC;YAC3D;gBACE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;aAChE;SACF,CAAC,CAAC;QAEH,4BAA4B;QAC5B,6BAA6B;QAC7B,KAAK;QAEL,IAAI,iBAAW,CAAC,GAAG,EAAE,MAAM,EAAE,6BAA6B,CAAC,CAAC,IAAI,EAAE,CAAC;KACpE;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;KACpB;AACH,CAAC;AAhBD,sCAgBC","sourcesContent":["import { ProductModel } from \"../schema/products\";\nimport { IAveragePrice } from \"../ts.demo\";\nimport { APIResponse } from \"../utils/api\";\n\nexport async function averagePrices(req, res) {\n  try {\n    const result: IAveragePrice[] = await ProductModel.aggregate([\n      {\n        $group: { _id: \"$category\", avergagePrice: { $avg: \"$price\" } },\n      },\n    ]);\n\n    // result.forEach((price)=>{\n    //   console.log(price.price)\n    // })\n\n    new APIResponse(res, result, \"Average prices for category\").json();\n  } catch (error) {\n    console.log(error);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bd795def3bff54a2e18e10eb681aa4b743a7a810"},"/Users/trainer/Desktop/NodeJS Demo/server/schema/products.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/schema/products.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":22},"end":{"line":10,"column":2}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}},"5":{"start":{"line":12,"column":21},"end":{"line":12,"column":80}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":36}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/schema/products.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/schema/products.ts"],"names":[],"mappings":";;;AAAA,uCAAyC;AAEzC,MAAM,aAAa,GAAG,IAAI,iBAAM,CAAC;IAC/B,EAAE,EAAE,MAAM;IACV,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;IACtB,QAAQ,EAAE,MAAM;IAChB,KAAK,EAAE,MAAM;CACd,CAAC,CAAC;AAIoB,sCAAa;AAFpC,MAAM,YAAY,GAAG,IAAA,gBAAK,EAAC,SAAS,EAAE,aAAa,EAAE,UAAU,CAAC,CAAC;AAExD,oCAAY","sourcesContent":["import { Schema, model } from \"mongoose\";\n\nconst ProductSchema = new Schema({\n  id: Number,\n  name: { type: String },\n  category: String,\n  price: Number,\n});\n\nconst ProductModel = model(\"product\", ProductSchema, \"products\");\n\nexport { ProductModel, ProductSchema };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7c82122140f1edd128c20abff72e04ae8ca810ba"},"/Users/trainer/Desktop/NodeJS Demo/server/router/user.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/router/user.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":18},"end":{"line":26,"column":36}},"26":{"start":{"line":27,"column":23},"end":{"line":27,"column":66}},"27":{"start":{"line":28,"column":18},"end":{"line":28,"column":41}},"28":{"start":{"line":29,"column":0},"end":{"line":29,"column":47}},"29":{"start":{"line":30,"column":0},"end":{"line":30,"column":53}},"30":{"start":{"line":31,"column":0},"end":{"line":31,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/router/user.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/router/user.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAiC;AACjC,mEAAqD;AAErD,MAAM,SAAS,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE3B,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC;AAC/C,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC;AAErD,kBAAe,SAAS,CAAC","sourcesContent":["import { Router } from \"express\";\nimport * as UserController from \"../controller/user\";\n\nconst UserRoute = Router();\n\nUserRoute.post(\"/login\", UserController.login);\nUserRoute.post(\"/register\", UserController.register);\n\nexport default UserRoute;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0079439a225aa956e5a165d8d40fed6d959cfec2"},"/Users/trainer/Desktop/NodeJS Demo/server/controller/user.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/controller/user.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":40}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":51}},"7":{"start":{"line":10,"column":23},"end":{"line":10,"column":63}},"8":{"start":{"line":11,"column":19},"end":{"line":11,"column":41}},"9":{"start":{"line":13,"column":4},"end":{"line":36,"column":21}},"10":{"start":{"line":14,"column":8},"end":{"line":34,"column":9}},"11":{"start":{"line":15,"column":40},"end":{"line":15,"column":48}},"12":{"start":{"line":16,"column":25},"end":{"line":16,"column":66}},"13":{"start":{"line":17,"column":12},"end":{"line":30,"column":13}},"14":{"start":{"line":18,"column":81},"end":{"line":18,"column":85}},"15":{"start":{"line":19,"column":32},"end":{"line":19,"column":83}},"16":{"start":{"line":20,"column":16},"end":{"line":26,"column":17}},"17":{"start":{"line":21,"column":34},"end":{"line":21,"column":92}},"18":{"start":{"line":22,"column":20},"end":{"line":22,"column":96}},"19":{"start":{"line":25,"column":20},"end":{"line":25,"column":74}},"20":{"start":{"line":29,"column":16},"end":{"line":29,"column":70}},"21":{"start":{"line":33,"column":12},"end":{"line":33,"column":92}},"22":{"start":{"line":38,"column":0},"end":{"line":38,"column":22}},"23":{"start":{"line":40,"column":4},"end":{"line":50,"column":5}},"24":{"start":{"line":41,"column":42},"end":{"line":41,"column":50}},"25":{"start":{"line":42,"column":29},"end":{"line":42,"column":70}},"26":{"start":{"line":43,"column":24},"end":{"line":43,"column":85}},"27":{"start":{"line":44,"column":21},"end":{"line":44,"column":41}},"28":{"start":{"line":45,"column":8},"end":{"line":45,"column":67}},"29":{"start":{"line":48,"column":8},"end":{"line":48,"column":27}},"30":{"start":{"line":49,"column":8},"end":{"line":49,"column":71}},"31":{"start":{"line":52,"column":0},"end":{"line":52,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"login","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":20}},"loc":{"start":{"line":12,"column":31},"end":{"line":37,"column":1}},"line":12},"2":{"name":"register","decl":{"start":{"line":39,"column":15},"end":{"line":39,"column":23}},"loc":{"start":{"line":39,"column":34},"end":{"line":51,"column":1}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":17,"column":12},"end":{"line":30,"column":13}},"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":30,"column":13}},{"start":{"line":17,"column":12},"end":{"line":30,"column":13}}],"line":17},"4":{"loc":{"start":{"line":20,"column":16},"end":{"line":26,"column":17}},"type":"if","locations":[{"start":{"line":20,"column":16},"end":{"line":26,"column":17}},{"start":{"line":20,"column":16},"end":{"line":26,"column":17}}],"line":20},"5":{"loc":{"start":{"line":33,"column":40},"end":{"line":33,"column":83}},"type":"binary-expr","locations":[{"start":{"line":33,"column":40},"end":{"line":33,"column":53}},{"start":{"line":33,"column":57},"end":{"line":33,"column":83}}],"line":33}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"f":{"0":2,"1":0,"2":0},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/controller/user.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/controller/user.ts"],"names":[],"mappings":";;;;;;AAAA,yCAA2C;AAC3C,sCAAqD;AACrD,oDAA4B;AAC5B,gEAA+B;AAE/B,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;AASnC,KAAK,UAAU,KAAK,CAAC,GAAG,EAAE,GAAG;IAClC,IAAI;QACF,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YACrC,MAAM,IAAI,GAAG,MAAM,gBAAS,CAAC,OAAO,CAAM,EAAE,KAAK,EAAE,CAAC,CAAC;YAErD,IAAI,IAAI,EAAE;gBACR,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;gBACtE,MAAM,OAAO,GAAG,MAAM,gBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;gBAC1D,IAAI,OAAO,EAAE;oBACX,MAAM,KAAK,GAAG,MAAM,sBAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,UAAU,CAAC,CAAC;oBACtD,IAAI,iBAAW,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,gBAAgB,CAAC,CAAC,IAAI,EAAE,CAAC;iBACvE;qBAAM;oBACL,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;iBACvD;aACF;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;aACvD;SACF;QAAC,OAAO,KAAU,EAAE;YACnB,IAAI,cAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,KAAK,CAAC,OAAO,IAAI,0BAA0B,CAAC,CAAC,IAAI,EAAE,CAAC;SAC3E;KACF;IAAC,OAAO,KAAK,EAAE,GAAE;AACpB,CAAC;AAtBD,sBAsBC;AAEM,KAAK,UAAU,QAAQ,CAAC,GAAG,EAAE,GAAG;IACrC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QAC3C,MAAM,YAAY,GAAG,MAAM,gBAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;QACrD,MAAM,OAAO,GAAG,IAAI,gBAAS,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,YAAY,EAAE,CAAC,CAAC;QACvE,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;QAClC,IAAI,iBAAW,CAAC,GAAG,EAAE,EAAE,EAAE,mBAAmB,CAAC,CAAC,IAAI,EAAE,CAAC;KACtD;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,cAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,0BAA0B,CAAC,CAAC,IAAI,EAAE,CAAC;KAC1D;AACH,CAAC;AAXD,4BAWC","sourcesContent":["import { UserModel } from \"../schema/user\";\nimport { APIError, APIResponse } from \"../utils/api\";\nimport Bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\n\nconst SECRET_KEY = process.env.SECRET_KEY;\n\ninterface IUser {\n  email: string;\n  password: string;\n  _id: string;\n  name: string;\n}\n\nexport async function login(req, res) {\n  try {\n    try {\n      const { email, password } = req.body;\n      const user = await UserModel.findOne<any>({ email });\n\n      if (user) {\n        const { email: _email, password: _password, name: _name, _id } = user;\n        const payload = await Bcrypt.compare(password, _password);\n        if (payload) {\n          const token = await jwt.sign({ id: _id }, SECRET_KEY);\n          new APIResponse(res, { accessToken: token }, \"User logged in\").json();\n        } else {\n          throw new Error(\"user credentials are not matching.\");\n        }\n      } else {\n        throw new Error(\"user credentials are not matching.\");\n      }\n    } catch (error: any) {\n      new APIError(res, {}, error.message || \"Error creating new user.\").json();\n    }\n  } catch (error) {}\n}\n\nexport async function register(req, res) {\n  try {\n    const { email, name, password } = req.body;\n    const hashpassword = await Bcrypt.hash(password, 10);\n    const newUser = new UserModel({ email, name, password: hashpassword });\n    const user = await newUser.save();\n    new APIResponse(res, {}, \"New user created.\").json();\n  } catch (error) {\n    console.log(error);\n    new APIError(res, {}, \"Error creating new user.\").json();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"061fc38bf34bfb758c807aca440633c9377b1f86"},"/Users/trainer/Desktop/NodeJS Demo/server/middleware/logging.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/middleware/logging.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":70}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":11}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}}},"fnMap":{"0":{"name":"logging","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":16}},"loc":{"start":{"line":4,"column":33},"end":{"line":7,"column":1}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/middleware/logging.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/middleware/logging.ts"],"names":[],"mappings":";;;AAAA,SAAgB,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI;IACpC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,GAAG,OAAO,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;IAClE,IAAI,EAAE,CAAC;AACT,CAAC;AAHD,0BAGC","sourcesContent":["export function logging(req, res, next) {\n  console.log(`Request: ${req.url} at ${new Date().toISOString()}`);\n  next();\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b376024b6fb4bcc87880d6d38b56a60b9d4b3bf5"},"/Users/trainer/Desktop/NodeJS Demo/server/socketio/handler.ts":{"path":"/Users/trainer/Desktop/NodeJS Demo/server/socketio/handler.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":5,"column":18},"end":{"line":5,"column":20}},"3":{"start":{"line":6,"column":4},"end":{"line":20,"column":7}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":8},"end":{"line":11,"column":11}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":87}},"7":{"start":{"line":12,"column":8},"end":{"line":16,"column":11}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":33}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":31}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":82}},"11":{"start":{"line":17,"column":8},"end":{"line":19,"column":11}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":61}},"13":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"fnMap":{"0":{"name":"IOHandler","decl":{"start":{"line":4,"column":15},"end":{"line":4,"column":24}},"loc":{"start":{"line":4,"column":29},"end":{"line":21,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":24},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":36},"end":{"line":20,"column":5}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":34},"end":{"line":8,"column":35}},"loc":{"start":{"line":8,"column":44},"end":{"line":11,"column":9}},"line":8},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":29},"end":{"line":12,"column":30}},"loc":{"start":{"line":12,"column":39},"end":{"line":16,"column":9}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":17,"column":32},"end":{"line":17,"column":33}},"loc":{"start":{"line":17,"column":38},"end":{"line":19,"column":9}},"line":17}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"/Users/trainer/Desktop/NodeJS Demo/server/socketio/handler.ts","sources":["/Users/trainer/Desktop/NodeJS Demo/server/socketio/handler.ts"],"names":[],"mappings":";;;AAAO,KAAK,UAAU,SAAS,CAAC,EAAE;IAChC,MAAM,KAAK,GAAG,EAAE,CAAC;IAEjB,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,MAAM,EAAE,EAAE;QAC7B,OAAO,CAAC,GAAG,CAAC,yBAAyB,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QAElD,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,EAAE;YACjC,oCAAoC;YACpC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAC,GAAG,IAAI,EAAE,MAAM,EAAG,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,EAAE;YAC5B,KAAK,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;YACrB,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;YACnB,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE;YAC3B,OAAO,CAAC,GAAG,CAAC,wBAAwB,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC;AArBD,8BAqBC","sourcesContent":["export async function IOHandler(io) {\n  const users = {};\n\n  io.on(\"connection\", (socket) => {\n    console.log(`New Client connected: ${socket.id}`);\n\n    socket.on(\"send_message\", (data) => {\n      // io.emit(\"receive_message\", data);\n      socket.broadcast.emit(\"receive_message\", {...data, sender : socket.data });\n    });\n\n    socket.on(\"sign_in\", (data) => {\n      users[data] = socket;\n      socket.data = data;\n      socket.broadcast.emit(\"new_user\", JSON.stringify(Object.keys(users)));\n    });\n\n    socket.on(\"disconnect\", () => {\n      console.log(`Client disconnected: ${socket.id}`);\n    });\n  });\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5d2eeb4434653ae981d24c897eb9d0161ad86a79"}}